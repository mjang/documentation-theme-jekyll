<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="420px" preserveAspectRatio="none" style="width:1336px;height:420px;" version="1.1" viewBox="0 0 1336 420" width="1336px" zoomAndPan="magnify"><defs><filter height="300%" id="f1s38ypx60ebq0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="390" x="472" y="22.9951">Passwordless With WebAuthn Flow (First Sign-in)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="48" x2="48" y1="84.8906" y2="363.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="403.5" x2="403.5" y1="84.8906" y2="363.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="659.5" x2="659.5" y1="84.8906" y2="363.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1088.5" x2="1088.5" y1="84.8906" y2="363.9531"/><rect fill="#FEFECE" filter="url(#f1s38ypx60ebq0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="8" y="49.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="15" y="69.5889">Web App</text><rect fill="#FEFECE" filter="url(#f1s38ypx60ebq0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="8" y="362.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="15" y="382.9482">Web App</text><rect fill="#FEFECE" filter="url(#f1s38ypx60ebq0)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="361.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="370.5" y="53.292">End User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="368.5" y="69.5889">(Browser)</text><rect fill="#FEFECE" filter="url(#f1s38ypx60ebq0)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="361.5" y="362.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="370.5" y="382.9482">End User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="368.5" y="399.2451">(Browser)</text><rect fill="#FEFECE" filter="url(#f1s38ypx60ebq0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="574.5" y="49.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="581.5" y="69.5889">FRaaS Express Edition</text><rect fill="#FEFECE" filter="url(#f1s38ypx60ebq0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="574.5" y="362.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="581.5" y="382.9482">FRaaS Express Edition</text><rect fill="#FEFECE" filter="url(#f1s38ypx60ebq0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="1033.5" y="49.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="1040.5" y="69.5889">Authenticator</text><rect fill="#FEFECE" filter="url(#f1s38ypx60ebq0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="1033.5" y="362.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="1040.5" y="382.9482">Authenticator</text><polygon fill="#A80036" points="59,111.8906,49,115.8906,59,119.8906,55,115.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53" x2="403" y1="115.8906" y2="115.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="65" y="110.9575">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="319" x="78" y="110.9575">Sign in to the Web App with a username/password</text><polygon fill="#A80036" points="648,141.0234,658,145.0234,648,149.0234,652,145.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48" x2="654" y1="145.0234" y2="145.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="55" y="140.0903">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="68" y="140.0903">Present credentials</text><polygon fill="#A80036" points="415,170.1563,405,174.1563,415,178.1563,411,174.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="409" x2="659" y1="174.1563" y2="174.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="421" y="169.2231">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="434" y="169.2231">Request authenticator registration</text><polygon fill="#A80036" points="1077,199.2891,1087,203.2891,1077,207.2891,1081,203.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="404" x2="1083" y1="203.2891" y2="203.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="411" y="198.356">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="304" x="424" y="198.356">User confirms identity through an authenticator</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1089" x2="1131" y1="232.5547" y2="232.5547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1131" x2="1131" y1="232.5547" y2="245.5547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1090" x2="1131" y1="245.5547" y2="245.5547"/><polygon fill="#A80036" points="1100,241.5547,1090,245.5547,1100,249.5547,1096,245.5547" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1096" y="227.4888">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="1109" y="227.4888">Generate a private/public key pair</text><polygon fill="#A80036" points="671,270.5547,661,274.5547,671,278.5547,667,274.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="665" x2="1088" y1="274.5547" y2="274.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="677" y="269.6216">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="310" x="690" y="269.6216">Authenticator sends a public key to the Web App</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="660" x2="702" y1="303.8203" y2="303.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="702" x2="702" y1="303.8203" y2="316.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="661" x2="702" y1="316.8203" y2="316.8203"/><polygon fill="#A80036" points="671,312.8203,661,316.8203,671,320.8203,667,316.8203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="667" y="298.7544">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="402" x="680" y="298.7544">Stores a public key, with the user identity, for the authenticator</text><polygon fill="#A80036" points="59,341.8203,49,345.8203,59,349.8203,55,345.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53" x2="659" y1="345.8203" y2="345.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="65" y="340.8872">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="78" y="340.8872">Signs in the user</text><!--
@startuml

title Passwordless With WebAuthn Flow (First Sign-in)
autonumber

participant "Web App" as Client
participant "End User\n(Browser)" as User
participant "FRaaS Express Edition" as Provider
participant "Authenticator" as Authenticator

User->Client: Sign in to the Web App with a username/password

Client->Provider: Present credentials

Provider->User: Request authenticator registration

User->Authenticator: User confirms identity through an authenticator

Authenticator->Authenticator: Generate a private/public key pair

Authenticator->Provider: Authenticator sends a public key to the Web App

Provider->Provider: Stores a public key, with the user identity, for the authenticator

Provider->Client: Signs in the user


@enduml

PlantUML version 1.2018.01(Sun Jan 28 10:08:22 PST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_191-8u191-b12-2ubuntu0.18.04.1-b12
Operating System: Linux
OS Version: 4.15.0-47-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
