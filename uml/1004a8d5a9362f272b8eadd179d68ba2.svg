<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="417px" preserveAspectRatio="none" style="width:1739px;height:417px;" version="1.1" viewBox="0 0 1739 417" width="1739px" zoomAndPan="magnify"><defs><filter height="300%" id="ficcw10drit3p" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="613" x="562" y="22.9951">Second Factor With Web Authentication (before registering an Authenticator)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="48" x2="48" y1="68.5938" y2="376.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="394.5" x2="394.5" y1="68.5938" y2="376.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1062.5" x2="1062.5" y1="68.5938" y2="376.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1491.5" x2="1491.5" y1="68.5938" y2="376.7891"/><rect fill="#FEFECE" filter="url(#ficcw10drit3p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="8" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="15" y="53.292">Web App</text><rect fill="#FEFECE" filter="url(#ficcw10drit3p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="8" y="375.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="15" y="395.7842">Web App</text><rect fill="#FEFECE" filter="url(#ficcw10drit3p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="354.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="361.5" y="53.292">End User</text><rect fill="#FEFECE" filter="url(#ficcw10drit3p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="354.5" y="375.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="361.5" y="395.7842">End User</text><rect fill="#FEFECE" filter="url(#ficcw10drit3p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="977.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="984.5" y="53.292">FRaaS Express Edition</text><rect fill="#FEFECE" filter="url(#ficcw10drit3p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="977.5" y="375.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="984.5" y="395.7842">FRaaS Express Edition</text><rect fill="#FEFECE" filter="url(#ficcw10drit3p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="1436.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="1443.5" y="53.292">Authenticator</text><rect fill="#FEFECE" filter="url(#ficcw10drit3p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="1436.5" y="375.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="1443.5" y="395.7842">Authenticator</text><polygon fill="#A80036" points="59,95.5938,49,99.5938,59,103.5938,55,99.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53" x2="394" y1="99.5938" y2="99.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="65" y="94.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="310" x="78" y="94.6606">Log into the Web App with a username/password</text><polygon fill="#A80036" points="1051,124.7266,1061,128.7266,1051,132.7266,1055,128.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48" x2="1057" y1="128.7266" y2="128.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="55" y="123.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="68" y="123.7935">Present credentials</text><polygon fill="#A80036" points="406,153.8594,396,157.8594,406,161.8594,402,157.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="400" x2="1062" y1="157.8594" y2="157.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="412" y="152.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="631" x="425" y="152.9263">Present choice for second factor authentication/ncode delivery through email or SMS/authenticator</text><polygon fill="#A80036" points="59,182.9922,49,186.9922,59,190.9922,55,186.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53" x2="394" y1="186.9922" y2="186.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="65" y="182.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="78" y="182.0591">Choose SMS or email</text><polygon fill="#A80036" points="1480,212.125,1490,216.125,1480,220.125,1484,216.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="395" x2="1486" y1="216.125" y2="216.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="402" y="211.1919">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="415" y="211.1919">Confirm identity through authenticator</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1492" x2="1534" y1="245.3906" y2="245.3906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1534" x2="1534" y1="245.3906" y2="258.3906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1493" x2="1534" y1="258.3906" y2="258.3906"/><polygon fill="#A80036" points="1503,254.3906,1493,258.3906,1503,262.3906,1499,258.3906" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1499" y="240.3247">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="1512" y="240.3247">Generate a public/private key pair</text><polygon fill="#A80036" points="1074,283.3906,1064,287.3906,1074,291.3906,1070,287.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1068" x2="1491" y1="287.3906" y2="287.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1080" y="282.4575">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="310" x="1093" y="282.4575">Authenticator sends a public key to the Web App</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1063" x2="1105" y1="316.6563" y2="316.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1105" x2="1105" y1="316.6563" y2="329.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1064" x2="1105" y1="329.6563" y2="329.6563"/><polygon fill="#A80036" points="1074,325.6563,1064,329.6563,1074,333.6563,1070,329.6563" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1070" y="311.5903">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="402" x="1083" y="311.5903">Stores a public key, with the user identity, for the authenticator</text><polygon fill="#A80036" points="59,354.6563,49,358.6563,59,362.6563,55,358.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53" x2="1062" y1="358.6563" y2="358.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="65" y="353.7231">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="78" y="353.7231">Logs in user</text><!--
@startuml

title Second Factor With Web Authentication (before registering an Authenticator)
autonumber

participant "Web App" as Client
participant "End User" as User
participant "FRaaS Express Edition" as Provider
participant "Authenticator" as Authenticator

User->Client: Log into the Web App with a username/password

Client->Provider: Present credentials

Provider->User: Present choice for second factor authentication/ncode delivery through email or SMS/authenticator

User->Client: Choose SMS or email

User->Authenticator: Confirm identity through authenticator

Authenticator->Authenticator: Generate a public/private key pair

Authenticator->Provider: Authenticator sends a public key to the Web App

Provider->Provider: Stores a public key, with the user identity, for the authenticator

Provider->Client: Logs in user


@enduml

PlantUML version 1.2018.01(Sun Jan 28 10:08:22 PST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_191-8u191-b12-2ubuntu0.18.04.1-b12
Operating System: Linux
OS Version: 4.15.0-46-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>