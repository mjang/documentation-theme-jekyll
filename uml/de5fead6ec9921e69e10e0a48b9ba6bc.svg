<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="303px" preserveAspectRatio="none" style="width:586px;height:303px;" version="1.1" viewBox="0 0 586 303" width="586px" zoomAndPan="magnify"><defs><filter height="300%" id="f1p5pd49iregbz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="336" x="125.5" y="22.9951">Service (M2M) Apps and Client Credentials</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="36" x2="36" y1="68.5938" y2="263.3906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="318" x2="318" y1="68.5938" y2="263.3906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="512" x2="512" y1="68.5938" y2="263.3906"/><rect fill="#FEFECE" filter="url(#f1p5pd49iregbz)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="8" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="15" y="53.292">Client</text><rect fill="#FEFECE" filter="url(#f1p5pd49iregbz)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="8" y="262.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="15" y="282.3857">Client</text><rect fill="#FEFECE" filter="url(#f1p5pd49iregbz)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="263" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="270" y="53.292">CIAM Express</text><rect fill="#FEFECE" filter="url(#f1p5pd49iregbz)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="263" y="262.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="270" y="282.3857">CIAM Express</text><rect fill="#FEFECE" filter="url(#f1p5pd49iregbz)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="446" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="453" y="53.292">Resource Server</text><rect fill="#FEFECE" filter="url(#f1p5pd49iregbz)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="446" y="262.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="453" y="282.3857">Resource Server</text><polygon fill="#A80036" points="306.5,95.5938,316.5,99.5938,306.5,103.5938,310.5,99.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="36.5" x2="312.5" y1="99.5938" y2="99.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="43.5" y="94.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="232" x="56.5" y="94.6606">Verify identity, request access token</text><polygon fill="#A80036" points="47.5,124.7266,37.5,128.7266,47.5,132.7266,43.5,128.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="317.5" y1="128.7266" y2="128.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="53.5" y="123.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="66.5" y="123.7935">Verify credentials, return access token</text><polygon fill="#A80036" points="500.5,153.8594,510.5,157.8594,500.5,161.8594,504.5,157.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="36.5" x2="506.5" y1="157.8594" y2="157.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="43.5" y="152.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="56.5" y="152.9263">Request resource with access token</text><polygon fill="#A80036" points="329.5,182.9922,319.5,186.9922,329.5,190.9922,325.5,186.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="323.5" x2="511.5" y1="186.9922" y2="186.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="335.5" y="182.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="348.5" y="182.0591">Verify valid access token</text><polygon fill="#A80036" points="500.5,212.125,510.5,216.125,500.5,220.125,504.5,216.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="506.5" y1="216.125" y2="216.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="325.5" y="211.1919">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="338.5" y="211.1919">Response</text><polygon fill="#A80036" points="47.5,241.2578,37.5,245.2578,47.5,249.2578,43.5,245.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="511.5" y1="245.2578" y2="245.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="53.5" y="240.3247">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="66.5" y="240.3247">Return requested resource</text><!--
@startuml

title Service (M2M) Apps and Client Credentials

autonumber

participant "Client" as Client
participant "CIAM Express" as AuthzServer
participant "Resource Server" as ResourceServer

Client->AuthzServer: Verify identity, request access token

AuthzServer->Client: Verify credentials, return access token

Client->ResourceServer: Request resource with access token

ResourceServer->AuthzServer: Verify valid access token

AuthzServer->ResourceServer: Response

ResourceServer->Client: Return requested resource

@enduml

PlantUML version 1.2018.01(Sun Jan 28 10:08:22 PST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_212-8u212-b03-0ubuntu1.18.04.1-b03
Operating System: Linux
OS Version: 4.15.0-50-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>